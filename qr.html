<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Greeny Secure QR</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: 'Inter', sans-serif;
}

body {
  background: linear-gradient(135deg, #a8debe, #92d7b0);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
}


.container {
  background: rgba(255, 255, 255, 0.96);
  padding: 2.5rem;
  border-radius: 20px;
  box-shadow: 0 25px 50px rgba(0,0,0,0.18);
  width: 820px;
  text-align: center;
}


h2 {
  font-size: 26px;
  margin-bottom: 0.4rem;
  color: #1f2937;
}

.subtitle {
  font-size: 14px;
  color: #4b5563;
  margin-bottom: 1.8rem;
}


input {
  width: 85%;
  margin: 0.7rem 0;
  padding: 1.1rem;
  border-radius: 12px;
  border: 1px solid #9ca3af;
  background: #f9fafb;
  font-size: 15px;
}

button {
  width: 85%;
  padding: 1.1rem;
  margin-top: 1rem;
  background: #065f46;
  color: white;
  font-size: 16px;
  font-weight: 600;
  border: none;
  border-radius: 12px;
  cursor: pointer;
  transition: all 0.3s ease;
}

button:hover {
  background: #064e3b;
}


.qr-wrapper {
  margin-top: 2.5rem;
  display: flex;
  flex-direction: column;
  align-items: center;
}

.qr-frame {
  position: relative;
  width: 320px;
  height: 320px;
  padding: 15px;
  border-radius: 20px;
  background: linear-gradient(135deg, #ecfdf5, #ffffff);
  box-shadow: 0 20px 40px rgba(0,0,0,0.18);
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
}


.qr-frame::before,
.qr-frame::after {
  content: "";
  position: absolute;
  width: 32px;
  height: 32px;
  border: 4px solid #065f46;
}

.qr-frame::before {
  top: 10px;
  left: 10px;
  border-right: none;
  border-bottom: none;
}

.qr-frame::after {
  bottom: 10px;
  right: 10px;
  border-left: none;
  border-top: none;
}


.scan-line {
  position: absolute;
  width: 100%;
  height: 4px;
  top: 0;
  left: 0;
  background: linear-gradient(90deg, transparent, #10b981, transparent);
  animation: scan 2.8s infinite ease-in-out;
}

@keyframes scan {
  0% { top: 0; opacity: 0.3; }
  50% { top: 50%; opacity: 1; }
  100% { top: 100%; opacity: 0.3; }
}

.qr-label {
  margin-top: 14px;
  font-size: 14px;
  font-weight: 600;
  color: #065f46;
}
</style>
</head>

<body>

<div class="container">
  <h2>Greeny Secure QR</h2>
  <p class="subtitle">Encrypted identity QR for secure waste pickup</p>

  <input type="email" id="email" placeholder="Enter Email ID">
  <input type="password" id="password" placeholder="Enter Password">
  <input type="text" id="privateKey" placeholder="Enter Secret Key">

  <button onclick="generateQR()">Generate Secure QR</button>

  
  <div class="qr-wrapper">
    <div class="qr-frame">
      <div id="qrcode"></div>
      <div class="scan-line"></div>
    </div>
    <p class="qr-label">üîê AES Encrypted QR Code</p>
  </div>
</div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>

<script>
let encryptedData = "";

function generateQR() {
  const email = document.getElementById("email").value;
  const password = document.getElementById("password").value;
  const key = document.getElementById("privateKey").value;

  if (!email || !password || !key) {
    alert("Please fill all fields!");
    return;
  }

  const loginData = JSON.stringify({
    email: email,
    password: password
  });

  encryptedData = CryptoJS.AES.encrypt(loginData, key).toString();

  document.getElementById("qrcode").innerHTML = "";

  new QRCode(document.getElementById("qrcode"), {
    text: encryptedData,
    width: 260,
    height: 260,
    colorDark: "#065f46",
    colorLight: "#ffffff"
  });
}
</script>

</body>
</html>
